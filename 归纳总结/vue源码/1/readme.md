## v-if 和 v-for哪个优先级更高？如果两个同时出现，应该怎么优化得到更好的性能?

v-for优先于v-if先解析

## 你是怎么知道的？

写了一个测试用例，当一个需要循环的标签上也有v-if判断时。我发现每次渲染都会先执行循环再判断条件,
无论如何循环都不可避免，浪费了性能。
再源码中getElement函数中也可以发现v-for是优先于v-if的

## 如何优化
可以把v-if写在外层的标签上，在外层进行v-if判断，用computed对数据进行过滤，剩下的再v-for，再内层进行v-for


##                     

## vue组件data为什么必须是一个函数，而vue的根实例则没有此限制？

vue組件可能存在多个实例，如果使用对象的形式定义data，则会导致他们共用一个data对象，